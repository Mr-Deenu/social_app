{% extends "base.html" %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h4>ðŸ”” Notifications</h4>
  <a href="{% url 'notif_read_all' %}" class="btn btn-sm btn-outline-primary">Mark all read</a>
</div>
{% elif n.notification_type == "share" %}
ðŸ“¤ <b>{{ n.sender.username }}</b> shared a post with you
{% endif %}

<div class="list-group">
  {% for n in notifs %}
    <div class="list-group-item {% if not n.is_read %}list-group-item-warning{% endif %}">
      <div class="d-flex justify-content-between">
        <div>
          <strong>{{ n.from_user.username }}</strong>
          {% if n.notif_type == "like" %}
            liked your post
          {% elif n.notif_type == "comment" %}
            commented: "{{ n.text }}"
          {% else %}
            started following you
          {% endif %}
          <div class="text-muted small">{{ n.created }}</div>
        </div>

        <div class="d-flex gap-2">
          {% if n.post %}
            <a href="{% url 'profile' n.to_user.username %}" class="btn btn-sm btn-outline-secondary">View</a>
          {% endif %}
          <a href="{% url 'notif_read' n.id %}" class="btn btn-sm btn-outline-success">Read</a>
        </div>
      </div>
    </div>
  {% empty %}
    <p class="text-muted">No notifications</p>
  {% endfor %}
</div>

{% endblock %}
